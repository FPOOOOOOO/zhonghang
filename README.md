# ͨ
- ϴgithubֿ
~~~
git add -u
git status
git commit -m "0831"
git push origin ZHONGHANGmdf
~~~


# Debug־


֮ǰ[ȸ](https://www.yuque.com/u834735/nrtf4r/egagyw)

## <span id = "1">0906</span>

1QtڵǷʵʵĽڵ \
2㲥͵Ե㷢͵ĵַĶãͨλڴãETHֱӶip\
3 Reboot ӵȲ\
4SPI \
5mesh \
6QtиһֱUDP

## <span id = "2">0913</span>

1QtڵǷʵʵĽڵ \
2㲥͵Ե㷢͵ĵַĶãͨλڴãETHֱӶip  ·ѡ\
3 Reboot ӵȲ\
4SPI \
5mesh \ 
6QtиһֱUDP \
7~~Qt ѡ~~
81.4G 4351
9׫д

## <span id = "3">0915</span>

```
 [15:27:30:577]Rx?I (9081) wifi:new:<1,1>, old:<1,0>, ap:<255,255>, sta:<1,1>, prof:1
I (9091) wifi:state: init -> auth (b0)
I (9101) wifi:state: auth -> assoc (0)

[15:27:30:643]Rx?I (9151) wifi:state: assoc -> run (10)

[15:27:34:616]Rx?I (13121) wifi:state: run -> init (fc0)
I (13121) wifi:new:<1,0>, old:<1,1>, ap:<255,255>, sta:<1,1>, prof:1
I (13131) wifi:new:<1,0>, old:<1,0>, ap:<255,255>, sta:<1,1>, prof:1
[0;32mI (13131) ADF4351: retry to connect to the AP[0m
[0;32mI (13131) 
[15:27:34:672]Rx?ADF4351: connect to the AP fail[0m

[15:27:36:673]Rx?[0;32mI (15181) ADF4351: retry to connect to the AP[0m
[0;32mI (15181) ADF4351: connect to the AP fail[0m

[15:27:36:724]Rx?I (15231) wifi:new:<1,1>, old:<1,0>, ap:<255,255>, sta:<1,1>, prof:1
I (15231) wifi:state: init -> auth (b0)
I (15241) wifi:state: auth -> assoc (0)

[15:27:36:768]Rx?I (15271) wifi:state: assoc -> run (10)

[15:27:40:757]Rx?I (19261) wifi:state: run -> init (fc0)
I (19261) wifi:new:<1,0>, old:<1,1>, ap:<255,255>, sta:<1,1>, prof:1
I (19271) wifi:new:<1,0>, old:<1,0>, ap:<255,255>, sta:<1,1>, prof:1
[0;32mI (19271) ADF4351: connect to the AP fail[0m
[0;32mI (19271) ADF4
[15:27:40:809]Rx?351: Failed to connect to SSID:fpoap, password:jjjkkk05[0m

```

1Ļ·˲ \
2Ĵֽ׶ΡһĴֽ׶εİ\
3ڸŵ໷

## <span id = "4">0916</span>
1  ȷʵ˵¶أʻУǶ\
2¥  ʧˣݼPPT


## <span id = "5">0917</span>
1ӡõ£ͨ \
- WiFiС10dB15dB:
2¥ࡪˣߵƥ

## <span id = "6">0919</span>
1֤׶β١ Դiperfԣ2.4GбȽ\
2ߣĵ20dB \
3saving new calibration data because of checksum failure, mode(0) \
4?I (16388) wifi:bcn_timout,ap_probe_send_start \
5ûнDHCPķַ

## <span id = "7">0920</span>
1Ժ󣬽˾Ĳ\

## <span id = "8">0921</span>
1ݶˣһͼĻ linuxred

## <span id = "9">0922</span>
1书ʵ 15 ϲ⣬εϲ \
2˥ȥбӰ죬Ҫͨ1ųӰ \
3Ҫһ±1.4GĻЩ

## <span id = "10">0923</span>
1书ʵ 15 ϲ⣬εϲ \
2˥ȥбӰ죬Ҫͨ1ųӰ \
3Ҫһ±1.4GĻЩ

## <span id = "11">0924</span>
1书ʵ 15 ϲ⣬εϲ \
2˥ȥбӰ죬Ҫͨ1ųӰ \
3Ҫһ±1.4GĻЩ  Ѿ,PPT\
4ETH͸֣áҪȷmeshǷ֤ʹ \

## <span id = "12">0927</span>
1̫init mac time out  ǲGPIO0ʱӵ \
2̫͸ʧˣˡ 0505İ汾Σȱ֤2.4Gû⣬Ȼֲ1.4Gڵ1.4G STA ETH2.4GҲܲпGPIO0⣩\

## <span id = "13">0928</span>
1ʼѰ20MĴ  ҵˣeth\
21.4Gĸı \
3εߺܺãߺܲ  ̫оƬ \

## <span id = "14">0929</span>
1Լ2.4GȲһmesh\
2mesh rootchild node connectdisconnetûмbreakɵ\
3meshоûжϹʺܺãûԶ˥ͬ˥ȥ\
4Կǲһmesheth pingô\
5ETH kitֻʱ \
6˥ETH PINGһ \
7WiFIƷʽǷλ \
8λָԵ \
9˻ս\
1037.5 һʼ40 18.757dbȻ˥˥-69ˡ
ڶβʲô89


## <span id = "15">0930</span>
1λĺúܽrssiܵͣҪĶ\
2ĺPINGûнͼϵĲҵ\
3ʱ  pingʱ

## <span id = "16">1002</span>
1RSSI֪Ϊʲô2׽-60ҪPINGΪԻ׼meshETH͸ٱȽֱETH͸1.4Gmeshroot0929 \

## <span id = "17">1006</span>
11.4G meshroot0929 Multi AddrԼҲһ    \
2esp.emac: no mem for receive buffer \
3ҵԭˣԼһݣҪRootһ鲥ȡڴܼʱ\
4TODO mesh ETH͸١˥

## <span id = "18">1007</span>
11.4Gmeshʺܸߡ1.4Gֱ pingͨ\
2ֱʵʵͨʵ鿴£һǴgpsͨţ spiͨšҴ̨ʼǱ\

## <span id = "18">1008</span>
1QT userĳԱȰQTUDPmoc_user.cppɾclean-qmake-buildLNK2019⣬Ǿ[](https://blog.csdn.net/shinefriend/article/details/109405042?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-109405042-blog-108044482.pc_relevant_3mothn_strategy_and_data_recovery&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-109405042-blog-108044482.pc_relevant_3mothn_strategy_and_data_recovery&utm_relevant_index=1) ڿСWINϿ\
2GPSģĲ9600ݸʽ  \
~~~
$GPGSV,3,1,10,5,30,47,,6,55,300,,8,61,115,,9,15,231,*4D
$GPGSV,3,2,10,12,19,186,,14,17,58,,18,66,172,,19,80,,*7E
$GPGSV,3,3,10,27,38,47,,28,12,290,*47
$GNRMC,210000.000,V,3905.845246,N,11721.051131,E,0.000,0.000,,,E,N*2B
$GNGGA,210000.000,3905.845246,N,11721.051131,E,0,00,127.000,-61.479,M,0,M,,*7F
$GNGLL,3905.845246,N,11721.051131,E,210000.000,V,N*59
$GNGSA,A,1,,,,,,,,,,,,,127.000,127.000,127.000*2A
$GNGSA,A,1,,,,,,,,,,,,,127.000,127.000,127.000*2A
~~~
\
3һ´͸ \

## <span id = "17">1009</span>
1ȹ,ˣյ \
221:󲿷-11Ȼмα-5912:Ͷ61\
32Ȳã13գҲ-681ķ·⡣13-33ȷʵ1ķ·\
423 -83?; 23: -67 \
5׫д

## <span id = "18">1010</span>
1ɳȻ\
2ARPռespԴesp̫ͨŻɹARP߼һeth\
3̫Щ⣬ֱͨݲʺͶ= дһ1.4GiperfĲ\
4ȷһmeshܲETHջ

## <span id = "19">1011</span>
11000¥ڲ182550m+˥û⣬ǴڴӡЩ֪Ϊʲô\
22.4G Űı仯ı仯Mutilconsole 2.4Gû⣬1.4G 14601000100İ0.2Mң䣬14601000µbugҵbugԭǹؼ
~~~
mesh: [mesh_schedule.c,3130] [WND-RX]max_wnd:14, 1200 ms timeout, seqno:0, xseqno:1, no_wnd_count:0, timeout_count:25
~~~
3һֱǲеģ²ײнҪôֱҪôŻ\
42.4G˫ֱ \

## <span id = "20">1012</span>
11000¥    \
2mesh ȷϻԼǷõȷϵʱܷһЩmwifi writetrue false \
3100msĴʲô16Σһ͵ \
4ֱûackֱǷн\

## <span id = "21">1013</span>
1
ɼGPS 
~~~
$GNRMC,060846.000,A,3015.913072,N,12007.228755,E,0.786,23.543,270203,,E,A*05
$GNGGA,060846.000,3015.913072,N,12007.228755,E,1,04,3.417,28.970,M,0,M,,*53
$GNGLL,3015.913072,N,12007.228755,E,060846.000,A,A*49
$GNGSA,A,3,15,24,10,23,,,,,,,,,5.204,3.417,3.925*21
$GNGSA,A,3,,,,,,,,,,,,,5.204,3.417,3.925*23
$GPGSV,4,1,13,5,53,64,,6,29,271,,8,62,359,,1,63,212,,14,11,87,17,15,21,80,42,63,212,,14,11,87,17,15,21,80,42,18,40,187,*7C
$GPGSV,4,3,13,19,38,321,,22,1,37,,23,86,41,38,24,47,39,47*77
$GPGSV,4,4,13,28,58,288,*4E
$BDGSV,1,1,1,166,5,,21*5E
~~~
2\
title:)Ԫϵͳо \
о:(1)һڵڵؽڵͨѶӲϵͳӦܹSPIUARTETH·͸1.4G WiFi 116ӵ֧λϱϢ·á\
(2)о(1)ͨѶϵͳйϵԪͬʱͨѶָŻ\
(3)о(1)(2)еͨѶϵͳµʽMesh縺غչԣͬʱ-ڵETH͸Լڵ͸Ͻ·㷨Ż͹ܵţ\
3лٶ50ns첨6ns
42.4GҲһWiFiŴһշл \
545Ҳһ \
6GPSתٶת \
7ackȥ/ӳ \
81.4Gʱ·0dB

## <span id = "22">1017</span>
1ԭиȷ⣬[Here](http://old.openluat.com/GPS-Offset.html)зǳϸתʹ\

## <span id = "23">1018</span>
11.4G ȸˣǲ \
2һ2.4GշлԺЧ \
3mesh ȷϻԼǷõȷϵʱܷһЩmwifi writetrue false \
4100msĴʲô16Σһ͵ \
5WiFi߷ȷϡԵȷϻȷ\
6ͬİ2.4GͿ(60us)1.4G(200us) \
7շ\

## <span id = "24">1019</span>
1׼Ŵ·շֱҲУҪmesh\
2УƵǵŹ⣨ڸշʱõģ\


## <span id = "25">1020</span>
1ߵǷͨ·ߵ˲ȥշ\
2Ŀǰ2.4GŴṹһշͨ·ϷֱƵ˲׼ܵһƵҪȥ˾һƵ\

## <span id = "26">1024</span>
12.4GָŲ \
2pingʱӡʱMACOS WINPINGֱ0.2 MAC0.1
~~~
ping 192.168.4.88 -i 0.2 | while read pong; do echo "$(date): $pong"; done
~~~
3SPI˳:15 13 12 14(ETH)\
4SPI͸0707receiver\
5Ҫ1M1000ô80000001M1024Ǿ8388608\
62048ջ£SPItaskﶨsendbuf168ԣ169ꡣĳ4096ԡ2048£ѶŵҲ\
7һη1000Bytedelay10us9000 000HzܹﵽС9Mbit/sʵ: 8.28Mbit/s    \

## <span id = "27">1025</span>
1µESP32оƬ
~~~
rst:0x10 (RTCWDT_RTC_RESET),boot:0x17 (SPI_FAST_FLASH_BOOT)

[12:04:3:724]Rx?invalid header: 0xffffffff

[12:04:3:769]Rx?invalid header: 0xffffffff   
~~~
2Packet content transfer stopped (received 8 bytes) \
3 45Ű1.4Gmesh 4351 100020.09\
4 ֱӿƷͽյ·ţդѹ̫ͣ\
5 91772.4Gͨźźֻܵͣ84; 800M ͨNCS0Եض·\
6
~~~
Parent is disconnected, reason: 201[
~~~
[csdn](https://blog.csdn.net/Marchtwentytwo/article/details/118551075)  \   
[espressif](https://docs.espressif.com/projects/esp-idf/zh_CN/latest/esp32/api-guides/wifi.html#wi-fi-reason-code)\

7һֱӣ4-5ѡĿأ3-5\
84-5bug
~~~
[16:46:2:199]Rx?W (24395) mesh: [mesh_schedule.c,3130] [WND-RX]max_wnd:9, 1200 ms timeout, seqno:0, xseqno:1, no_wnd_count:0, timeout_count:0
~~~

## <span id = "28">1026</span>
1
~~~
1.4gշȶ22s1000ˣ̫ϣpingûͲˣβҪǿԾ̫okspi okokͺˡص̫
~~~
25ţ̫С Сֻ̣γɹ  4 ̫С д
~~~
ROOTres = mwifi_root_write(Multiaddr, 1, &data_type, msg.packet, msg.length, true);
ret = mwifi_read(src_addr, &data_type, data, &size, portMAX_DELAY);
NONROOT
ret = mwifi_read(src_addr, &data_type, &buffer, &buffer_len, 100 / portTICK_RATE_MS);
res = mwifi_write(Rootaddr, &data_type, msg.packet, msg.length, true);
~~~
3ETHkit 0825PINGῨ٣0929ͻῨ٣ˣ0825鲥Լ0929鲥Լ\
43У0825ֱӼ1.4G

## <span id = "29">1026</span>
11.4G 2.4G ӻ¼ʱҪGPIO0ľIP101\
~~~
W (30970) mesh: [mesh_schedule.c,3130] [WND-RX]max_wnd:4, 1200 ms timeout, seqno:0, xseqno:1, no_wnd_count:0, timeout_count:21
~~~

216-26%Ķʣ20msңǰкܶmax_wndsend flow control message failed or timeout²MACַйأ3TODOһǸMACַãһǿģʽľԭһѧϰDavidģһȻϴһݣ¿һļԣ\
345ŻֱEThkitɣȻ4Ż̫е⡣\

## <span id = "30">1027</span>
15ŻΪNonrootʱRootᱨ     \
~~~
[10:22:47:860]Rx?I (158688) mesh: [TXQ]<max:64>up(0, be:0), down(0, be:0), mgmt:0, xon(req:0, rsp:12), bcast:0, wnd(0, parent:00:00:00:00:00:00)
I (158689) mesh: [RXQ]<max:64 = cfg:64 + extra:0>self:0, <max:64 = cfg:64 + extr
~~~

## <span id = "31">1029</span>
15û⣬ʱpingͨpingͨ0%
9177R1.4G⣬̫ҪWiFiٲ̫У1.6%
4Ȳ̫17%̫0%
3Ȳ̫̫ͨ0%
6ס̫û⣬2.4G 0%
7ס̫û⣬2.4G 0%
8ס̫Բ2.4G 4%
9ס̫û⣬2.4G 0%

## <span id = "32">1031</span>
11.4G consoleҪһ£ĳno routerΪû1.4Grouter\
~~~
5û⣬ʱpingͨpingͨ0%
9177R1.4G⣬̫ҪWiFiٲ̫У1.6%
4Ȳ̫17%̫0%
3Ȳ̫̫ͨ0%
6ס̫û⣬2.4G 0%
7ס̫û⣬2.4G 0%
8ס̫Բ2.4G 4%
9ס̫û⣬2.4G 0%
~~~
2 7945 ࡢ68


## <span id = "33">1101</span>
1esp.emac: no mem for receive buffer\
245Ż```10261.4Geth2mesh(root)`````console test``jperfҪöࡪ²idf.pyõ\
3Mwifi-Transmission-128(64)240MHz(160)tmģԺͨ\

## <span id = "34">1102</span>
14\
2ETHkit7ţ128240У̫ͨ˳ĳ128160Ϳˣ

## <span id = "35">1103</span>
1SR8201 21û12ˣ\
2 init phy failedwrong chip IDRSTûȷ
~~~
[0;31mE (806) rtl8201: rtl8201_init(352): wrong chip ID[0m
[0;31mE (806) esp_eth: esp_eth_driver_install(223): init phy failed[0m
~~~
3
~~~
[0;31mE (922) rtl8201: rtl8201_pwrctl(261): power up timeout[0m
[0;31mE (928) rtl8201: rtl8201_init(343): power control failed[0m
[0;31mE (934) esp_eth: esp_eth_driver_install(223): init phy failed[0m

[0;31mE (874) rtl8201: rtl8201_reset(167): reset timeout[0m
[0;31mE (874) rtl8201: rtl8201_init(346): reset failed[0m
~~~

## <span id = "36">1103</span>
121ŵ2.49KҲܹؼ\
2̫вС


## <span id = "37">1106</span>
1ûĶˣ׼ͭ\
2̫ͨѶǰ1010ͬ룬1ͬ111ͬ00Tx߷˵Ļ\
38 7

## <span id = "38">1110</span>
1һģҵˣ\
25Gվ\
3ıƵǿԵģȻҪһ
N-R 1.13
R-N 1.56

## <span id = "39">1113</span>
1ʵҲ1.4Gǲ߱Ƶ1.4gȻǰϵ1.4gշлӷŴΡϵıƵõ\
2AP2.4Gշл7M
AP1.4GƵ1M
AP2.4Gշл1.4GƵ
AP1.4GƵл·(1-1.5M)

6:лƲ
8:0dBл\
3Ƶԭ

## <span id = "40">1114</span>
1ΪϵdownloadENһ100nFRCʱ·(1.1uF0.2uF)IO0(20K½ӵ0.1uF)3.3Vϵһ\

## <span id = "41">1116</span>
1ʼû⣬вͨ\
2֪Ϊʲôһκˣʺܸߣжյ\

## <span id = "42">1117</span>
1PC˸ĳ10Mǿõģĳ100MͲˣЭҲС
## <span id = "43">1118</span>
1ֲˣֻУûˣ֪ʲô(ʦ˵ʱӣǸĻȥҲУ)\

## <span id = "44">1119</span>
1TXCϵĵСӰ뵽PHY50MķȣӶӰ10Mͨš100MͨţӦ\
2˵22+5 10Mͨţ1kӦͨţ122ŷķУ1.12kУ480ԣ360У720\
3оƬڲ˵Mģ˵100kңԵM

## <span id = "45">1124</span>
1кӵETHUARTSPI\
2Ƿл⣬eee:
~~~
[21:40:57:695]Rx?55 41 52 54 3A 0D 0A CE D2 CA C7 D6 F7 BB FA 0D 00
[21:41:1:420]Rx?55 41 52 54 3A 0D 0A CE D2 CA C7 D6 F7 BB 00
[21:41:16:281]Rx?55 41 52 54 3A 0D 0A CE D2 CA C7 BB FA BB 00
[21:41:28:990]Rx?55 41 52 54 3A 0D 0A CE D2 CA C7 BB FA BB FA 0D 00
~~~
3аǰͷĳ8ԿeeeĻͲ֪Ϊʲô:
~~~
assert failed: block_locate_free heap_tlsf.c:447 (block_size(block) >= size)


Backtrace:0x4008189e:0x3ffbe0f00x40088b45:0x3ffbe110 0x4008f955:0x3ffbe130 0x4008d6c2:0x3ffbe250 0x4008e199:0x3ffbe270 0x40081a61:0x3ffbe290 0x400d8aaf:0x3ffbe2b0 0x400d95d1:0x3ffbe360 0x400d6a6
[21:57:41:538]Rx?9:0x3ffbe3f0 0x4008c061:0x3ffbe420 


ELF file SHA256: 8358e5c9f441bed9
~~~

## <span id = "45">1125</span>
1ַһλǿб00ڽյʱһλͲø7ͷ8ˡ\
2eeeڴ⣬[](https://blog.csdn.net/gzxb1995/article/details/124504705)\
3ն˶ȡSPIʱһΪslaveôZHİIO34IO2Ҫλ\
4ͬʱIOMUXٶȴﲻ8M\
52133ETH⣩\

## <span id = "46">1129</span>
1[ѧϰ](https://www.yuque.com/u834735/nrtf4r/nu54m8gr9cwexzhb)\


## <span id = "47">1130</span>
1[ѧϰ](https://www.yuque.com/u834735/nrtf4r/nu54m8gr9cwexzhb)\
2ûֻ6.1DNS7¡8¶û

## <span id = "48">1201</span>
18201TXCO/PDġ\
22.4GPINGͨ룺
~~~
eth2mesh_0805
eth2meshroot_0811
~~~
3ZHǴZHĴ\
4[ѧϰ](https://www.yuque.com/u834735/nrtf4r/nu54m8gr9cwexzhb)ӵ9¿ʼ\

## <span id = "49">1202</span>
1IO0ĳ1Kǿ10K-1.5KУֻ1KϵӰ̫\
2IO01KĻϣĴ衣2KֱӲͨ1Kû⣬910 20%ʡ

## <span id = "50">1205</span>
167Żϵ10K1KWIN 7%MAC 4.6%\
210K510ŷķWIN 6% MAC 6%\
3಻ֻͨͲͨ⣬׼8201бصPINGPHYRST20K680nF\
~~~
10261.4Geth2mesh
10261.4Geth2meshroot
~~~
46ź8ţʣµĺ7š

## <span id = "51">1206</span>
1ٲ±Ƶϰӷ٣Ƶû⣬¾Ӧͨġϰ֮ûɶǰ\
2ڵ֮ʱͬͨ802.11ЭеTSFСõŵģ͡ʱɼݴPSRAM    \

## <span id = "52">1207</span>
1ѷ书ʱ10dBûʲô°ӿʱ22-29msʱ45ms\
22.4GWiFiշлһֱʹܡлʹܡPAһֱʹܡLNAһֱʹܶӰ죬Ƿֱʹ\

## <span id = "53">1208</span>
1\
2